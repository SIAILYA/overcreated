{% extends "index.njk" %}

{% block content %}
    <h2 class="mb-4 text-center">Редактирование топика</h2>
    <form action="/admin/edit_topic/{{ editTopic._id.toString() }}" method="post">
        <div class="row">
            <div class="col-12 col-md-6">
                <input type="text" name="name" class="form-control" value="{{ editTopic.name }}" placeholder="Название">
            </div>
            <div class="col-12 col-md-6 mt-2 mt-md-0">
                <input type="text" name="slug" class="form-control" value="{{ editTopic.slug }}" placeholder="Slug">
            </div>
            <div class="col-6 col-md-6 mt-2">
                <input type="text" class="form-control" name="color1" value="{{ editTopic.color[0] }}" placeholder="Цвет 1">
            </div>
            <div class="col-6 col-md-6 mt-2">
                <input type="text" class="form-control" name="color2" value="{{ editTopic.color[1] }}" placeholder="Цвет 2">
            </div>
{#            TODO: Сделать превью#}
            <div class="col-12 text-center mt-3 d-flex">
                <button class="btn btn-success me-2">Сохранить</button>
                <a href="/admin/delete_topic/{{ editTopic._id.toString() }}" class="d-block btn btn-danger ms-2">Удалить</a>
            </div>
        </div>
    </form>
{% endblock %}

{% block scripts %}
    <script>
        var simplemde = new SimpleMDE({element: document.getElementById("description"), lineWrapping: false});
    </script>
{% endblock %}
